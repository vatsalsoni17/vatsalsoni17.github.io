<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vatsal Soni - Business & Data Analyst</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Feather icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <style>
    body { font-family: 'Poppins', sans-serif; background-color: #f8fafc; }
    .text-gradient { background-clip: text; -webkit-background-clip: text; color: transparent; background-image: linear-gradient(to right, #4f46e5, #7c3aed); }
    .nav-link-active { color: #4f46e5; }
    .timeline-item { position: relative; padding-left: 2.5rem; padding-bottom: 2.5rem; border-left: 2px solid #e2e8f0; }
    .timeline-item:last-child { border-left-color: transparent; padding-bottom: 0; }
    .timeline-dot { position: absolute; left: -0.6rem; top: 0.1rem; height: 1.1rem; width: 1.1rem; border-radius: 50%; background-color: #4f46e5; border: 3px solid #f8fafc; }
    .achievement-check { color: #16a34a; }
    #particles-js { position: absolute; width: 100%; height: 100%; z-index: 0; }
    .hero-content { position: relative; z-index: 1; }
    .chat-bubble { max-width: 75%; }
    .user-bubble { background-color: #4f46e5; color: white; align-self: flex-end; }
    .ai-bubble { background-color: #e5e7eb; color: #1f2937; align-self: flex-start; }

    /* Interactive card animation styles */
    .interactive-card { cursor: pointer; transition: transform .22s ease, box-shadow .22s ease; border-radius: .75rem; }
    .interactive-card:hover { transform: translateY(-6px); box-shadow: 0 18px 30px rgba(15,23,42,0.06); }

    /* collapsed content */
    .interactive-card .card-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height .45s cubic-bezier(.2,.8,.2,1), opacity .28s ease, padding .22s ease;
      opacity: 0;
      padding-top: 0;
      padding-bottom: 0;
    }

    /* expanded state */
    .interactive-card.expanded { transform: translateY(-4px) scale(1.01); }
    .interactive-card.expanded .card-content {
      max-height: 720px;
      opacity: 1;
      padding-top: .75rem;
      padding-bottom: .75rem;
    }

    /* icon rotation */
    .interactive-card .toggle-icon { transition: transform .28s ease; }
    .interactive-card.expanded .toggle-icon { transform: rotate(180deg); }

    /* project overlay */
    .project-overlay { transition: opacity .25s ease, transform .25s ease; opacity:0; transform: translateY(8px); pointer-events:none; }
    .project-card.expanded .project-overlay { opacity:1; transform: translateY(0); pointer-events:auto; }

    /* keyboard focus */
    .interactive-card:focus { outline: 3px solid rgba(99,102,241,0.18); outline-offset: 4px; }
  </style>
</head>

<body class="text-slate-700">
  <!-- Header -->
  <header id="header" class="bg-white/90 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300 shadow-sm">
    <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
      <a href="#home" class="text-2xl font-bold text-slate-900">Vatsal Soni</a>
      <div class="hidden md:flex space-x-8 items-center">
        <a href="#about" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">About</a>
        <a href="#experience" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">Experience</a>
        <a href="#skills" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">Skills</a>
        <a href="#data-analyst-services" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">Services</a>
        <a href="#ai-chatbot" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">AI Chatbot</a>
        <a href="#projects" class="hover:text-indigo-600 transition-colors duration-300 nav-link font-medium">Projects</a>
        <a href="#contact" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">Contact</a>
      </div>
      <button id="mobile-menu-button" class="md:hidden text-slate-800"><i data-feather="menu"></i></button>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white">
      <a href="#about" class="block py-2 px-6 text-sm hover:bg-slate-50">About</a>
      <a href="#experience" class="block py-2 px-6 text-sm hover:bg-slate-50">Experience</a>
      <a href="#skills" class="block py-2 px-6 text-sm hover:bg-slate-50">Skills</a>
      <a href="#data-analyst-services" class="block py-2 px-6 text-sm hover:bg-slate-50">Services</a>
      <a href="#ai-chatbot" class="block py-2 px-6 text-sm hover:bg-slate-50">AI Chatbot</a>
      <a href="#projects" class="block py-2 px-6 text-sm hover:bg-slate-50">Projects</a>
      <a href="#contact" class="block py-2 px-6 text-sm hover:bg-slate-50">Contact</a>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section id="home" class="min-h-screen flex items-center bg-slate-50 relative">
      <div id="particles-js"></div>
      <div class="container mx-auto px-6 text-center hero-content" data-aos="fade-up">
        <h1 class="text-4xl md:text-6xl font-bold text-slate-900 mb-4">Hi, I'm Vatsal Soni</h1>
        <p class="text-xl md:text-3xl font-semibold mb-8 text-gradient">Business & Data Analyst</p>
        <p class="max-w-3xl mx-auto text-lg text-slate-600 mb-10">
          Dedicated and results-driven professional leveraging data to uncover actionable insights, optimize operations, and drive organizational success.
        </p>
        <a href="#projects" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform duration-300 hover:scale-105 inline-block">View My Work</a>
      </div>
    </section>

    <!-- DATA ANALYST SERVICES (first) -->
    <section id="data-analyst-services" class="py-16 bg-slate-50">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <div class="flex flex-col lg:flex-row items-start gap-8">
          <div class="lg:w-1/2 bg-gradient-to-r from-white to-indigo-50 p-8 rounded-2xl shadow-lg">
            <div class="flex items-center gap-4 mb-4">
              <img src="https://www.vectorlogo.zone/logos/microsoft_powerbi/microsoft_powerbi-icon.svg" alt="Data" class="h-12 w-12">
              <div>
                <h2 class="text-2xl font-bold text-slate-900">Data Analyst Services</h2>
                <p class="text-slate-600">End-to-end data analysis, dashboards and automation — suitable for small businesses and internal teams.</p>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
              <div class="bg-white p-4 rounded-lg shadow-sm">
                <h3 class="font-semibold">What I Offer</h3>
                <ul class="text-slate-600 list-disc list-inside mt-2 text-sm">
                  <li>Dashboard development (Power BI, Looker Studio, Tableau)</li>
                  <li>Data cleaning & transformation (Excel / SQL / Python)</li>
                  <li>Sales forecasting & trend analysis</li>
                </ul>
              </div>
              <div class="bg-white p-4 rounded-lg shadow-sm">
                <h3 class="font-semibold">Workflow</h3>
                <ul class="text-slate-600 list-disc list-inside mt-2 text-sm">
                  <li>Free 15-min audit & data sample review</li>
                  <li>Onboarding, secure data transfer & access</li>
                  <li>Weekly dashboards & monthly insights report</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#contact" class="inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg">Book Free Audit</a>
              <button id="view-data-portfolio-btn" class="inline-block border border-indigo-100 px-4 py-2 rounded-lg">View Data Portfolio</button>
              <a href="mailto:vatsalsoni908@gmail.com?subject=Data%20Analyst%20Services%20Inquiry" class="inline-block border px-4 py-2 rounded-lg">Email Me</a>
            </div>
          </div>

          <div class="lg:w-1/2">
            <div class="bg-white p-6 rounded-2xl shadow-lg">
              <h3 class="text-xl font-bold text-slate-900 mb-4">Packages & Pricing</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Starter (interactive) -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Starter</h4>
                      <div class="text-lg font-bold mt-2">₹5,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Basic dashboard (1-2 pages)</li>
                      <li>Data cleaning for one dataset</li>
                      <li>Monthly insights report</li>
                    </ul>
                    <p class="mt-3 text-sm">Ideal for early-stage teams needing quick dashboards and clean reports.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Book Audit</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Data%20Starter" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

                <!-- Growth -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Growth</h4>
                      <div class="text-lg font-bold mt-2">₹15,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Multi-source dashboards</li>
                      <li>Automated reporting</li>
                      <li>Forecasting & anomaly detection</li>
                    </ul>
                    <p class="mt-3 text-sm">Great for growing businesses needing automation and forecasting.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Book Audit</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Data%20Growth" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

                <!-- Enterprise -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Enterprise</h4>
                      <div class="text-lg font-bold mt-2">₹35,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Full analytics pipeline</li>
                      <li>Custom ML/forecast models</li>
                      <li>Dedicated weekly analytics support</li>
                    </ul>
                    <p class="mt-3 text-sm">For organizations needing a full analytics lifecycle and dedicated support.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Book Audit</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Data%20Enterprise" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

              </div>

              <div class="mt-6">
                <h4 class="font-semibold mb-2">Tools & Techniques</h4>
                <div class="flex flex-wrap gap-2">
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Power BI</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Looker Studio</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Excel (Power Query)</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">SQL</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Python (pandas)</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Google Sheets</span>
                </div>
              </div>
            </div>

            <div class="mt-6">
              <img src="https://placehold.co/900x220/fff7ed/ff8a00?text=Data+Portfolio+Preview" alt="data portfolio preview" class="rounded-lg shadow-md w-full h-44 object-cover">
            </div>
          </div>
        </div>
      </div>

      <!-- Data Portfolio Modal -->
      <div id="data-portfolio-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-6">
        <div class="bg-white rounded-xl max-w-3xl w-full p-6 overflow-auto">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-bold">Data Portfolio</h3>
            <button id="close-data-portfolio" class="text-slate-600">Close</button>
          </div>
          <div>
            <h4 class="font-semibold">Dashboard Development</h4>
            <p class="text-slate-600">Interactive dashboards with drill-downs, filters, and scheduled refresh recommendations.</p>
            <hr class="my-4">
            <h4 class="font-semibold">Data Cleaning & Automation</h4>
            <p class="text-slate-600">Examples of merged datasets, automated transformations using Power Query / Python, and scheduled exports.</p>
            <hr class="my-4">
            <h4 class="font-semibold">Forecasting & Insights</h4>
            <p class="text-slate-600">Time-series forecasting samples, anomaly detection examples, and actionable recommendations.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- AMAZON SERVICES (second) -->
    <section id="amazon-services" class="py-16 bg-white">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <div class="flex flex-col lg:flex-row items-start gap-8">
          <div class="lg:w-1/2 bg-gradient-to-r from-indigo-50 to-purple-50 p-8 rounded-2xl shadow-lg">
            <div class="flex items-center gap-4 mb-4">
              <img src="https://www.vectorlogo.zone/logos/amazon/amazon-icon.svg" alt="Amazon" class="h-12 w-12">
              <div>
                <h2 class="text-2xl font-bold text-slate-900">Amazon Seller Consulting</h2>
                <p class="text-slate-600">Services tailored for small brands & part-time sellers — listings, pricing, inventory and operations.</p>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
              <div class="bg-white p-4 rounded-lg shadow-sm">
                <h3 class="font-semibold">Core Services</h3>
                <ul class="text-slate-600 list-disc list-inside mt-2 text-sm">
                  <li>Listing creation & optimization</li>
                  <li>Keyword research & SEO</li>
                  <li>Pricing & repricing suggestions</li>
                </ul>
              </div>
              <div class="bg-white p-4 rounded-lg shadow-sm">
                <h3 class="font-semibold">Workflow</h3>
                <ul class="text-slate-600 list-disc list-inside mt-2 text-sm">
                  <li>Free 15-min audit</li>
                  <li>Weekly updates & monthly report</li>
                  <li>Flexible part-time support</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#contact" class="inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg">Book Free Audit</a>
              <button id="view-portfolio-btn-2" class="inline-block border border-indigo-100 px-4 py-2 rounded-lg">View Sample Portfolio</button>
              <a href="mailto:vatsalsoni908@gmail.com?subject=Amazon%20Consulting%20Inquiry" class="inline-block border px-4 py-2 rounded-lg">Email Me</a>
            </div>
          </div>

          <div class="lg:w-1/2">
            <div class="bg-white p-6 rounded-2xl shadow-lg">
              <h3 class="text-xl font-bold text-slate-900 mb-4">Packages & Pricing</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Basic (interactive) -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Basic</h4>
                      <div class="text-lg font-bold mt-2">₹4,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Up to 5 listings optimized</li>
                      <li>Weekly price check</li>
                      <li>Monthly report</li>
                    </ul>
                    <p class="mt-3 text-sm">Perfect for small sellers getting started on Amazon.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Contact</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Amazon%20Basic" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

                <!-- Standard -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Standard</h4>
                      <div class="text-lg font-bold mt-2">₹12,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Everything in Basic</li>
                      <li>Competitor research</li>
                      <li>Listing A/B suggestions</li>
                    </ul>
                    <p class="mt-3 text-sm">Ideal for sellers who want to optimize and test listings.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Contact</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Amazon%20Standard" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

                <!-- Premium -->
                <div class="interactive-card border rounded-lg p-4 bg-white" role="button" tabindex="0" aria-expanded="false">
                  <div class="flex items-start justify-between">
                    <div>
                      <h4 class="font-semibold">Premium</h4>
                      <div class="text-lg font-bold mt-2">₹24,000 / month</div>
                    </div>
                    <div class="ml-4">
                      <svg class="toggle-icon w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                      </svg>
                    </div>
                  </div>
                  <div class="card-content text-slate-600 mt-3">
                    <ul class="list-disc list-inside text-sm space-y-1">
                      <li>Ads setup & monitoring</li>
                      <li>Daily sales dashboard</li>
                      <li>Customer message handling</li>
                    </ul>
                    <p class="mt-3 text-sm">Best for sellers needing hands-on daily support and ads management.</p>
                    <div class="mt-4">
                      <a href="#contact" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">Contact</a>
                      <a href="mailto:vatsalsoni908@gmail.com?subject=Amazon%20Premium" class="inline-block border ml-2 px-3 py-2 rounded-lg text-sm">Email</a>
                    </div>
                  </div>
                </div>

              </div>

              <div class="mt-6">
                <h4 class="font-semibold mb-2">Tools I Use</h4>
                <div class="flex flex-wrap gap-2">
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Helium10</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Keepa</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Seller Central</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Google Sheets</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Excel</span>
                  <span class="bg-indigo-50 text-indigo-800 px-3 py-1 rounded-full text-sm">Power BI</span>
                </div>
              </div>
            </div>

            <div class="mt-6">
              <img src="https://placehold.co/900x220/eaf2ff/4338ca?text=Portfolio+Preview" alt="portfolio preview" class="rounded-lg shadow-md w-full h-44 object-cover">
            </div>
          </div>
        </div>
      </div>

      <!-- Amazon Modal -->
      <div id="portfolio-modal-2" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-6">
        <div class="bg-white rounded-xl max-w-3xl w-full p-6 overflow-auto">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-bold">Sample Portfolio</h3>
            <button id="close-portfolio-2" class="text-slate-600">Close</button>
          </div>
          <div>
            <h4 class="font-semibold">Listing Optimization — Before / After</h4>
            <p class="text-slate-600">Before: short title, missing keywords, poor images. After: keyword-rich title, benefit-driven bullets, image plan and A+ suggestions.</p>
            <hr class="my-4">
            <h4 class="font-semibold">Pricing Strategy</h4>
            <p class="text-slate-600">Sample repricing sheet and margin impact analysis using simple formulas and competitor data.</p>
            <hr class="my-4">
            <h4 class="font-semibold">Inventory Management</h4>
            <p class="text-slate-600">Google Sheets-based reorder alerts, lead time calculation and safety stock formula examples.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="py-24 bg-white">
      <div class="container mx-auto px-6">
        <div class="flex flex-col md:flex-row items-center gap-12 md:gap-16">
          <div class="md:w-1/3" data-aos="fade-right">
            <img src="assets/Vatsal.jpg" alt="Vatsal Soni" class="rounded-lg shadow-2xl mx-auto w-80 h-80 object-cover">
          </div>
          <div class="md:w-2/3 text-lg text-left" data-aos="fade-left">
            <h2 class="text-4xl font-bold text-slate-900 mb-6">About Me</h2>
            <p class="mb-4 text-slate-700">Hello! My journey began with a Mechanical Engineering degree and evolved into a passion for data, leading me to an MBA in Business Analytics. I specialize in transforming raw data into clear, actionable insights.</p>
            <p class="mb-4 text-slate-700">I am proficient in creating impactful dashboards with tools like Power BI and Looker Studio, performing statistical analysis, and developing data-driven strategies to enhance efficiency and support leadership goals. From automating business processes to forecasting sales, I enjoy applying my analytical skills to solve real-world problems and drive growth.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section id="experience" class="py-24 bg-slate-50">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-center text-slate-900 mb-16">Work Experience</h2>
        <div class="max-w-4xl mx-auto">
          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <p class="font-semibold text-slate-500 text-sm mb-1">09/2024 - Present</p>
            <h3 class="text-2xl font-bold text-slate-900">Business Administrative Personnel</h3>
            <p class="text-indigo-600 font-medium mb-4">Internal Quality Assurance Cell, CHARUSAT University</p>
            <ul class="list-disc list-inside text-slate-600 space-y-2 mb-4">
              <li>Gathering, cleaning, and organizing institutional data to ensure accuracy and consistency.</li>
              <li>Creating insightful dashboards (Power BI, Looker Studio) for key stakeholders.</li>
              <li>Developing data-driven strategies to improve university rankings.</li>
              <li>Managing data and reports for NAAC inspections to ensure compliance.</li>
            </ul>
            <p class="font-semibold text-slate-800 flex items-center"><i data-feather="check-circle" class="w-5 h-5 mr-2 achievement-check"></i>Developed an interactive quiz HTML webpage for IQAC events.</p>
          </div>

          <div class="timeline-item">
            <div class="timeline-dot"></div>
            <p class="font-semibold text-slate-500 text-sm mb-1">06/2023 - 08/2024</p>
            <h3 class="text-2xl font-bold text-slate-900">Data Analyst</h3>
            <p class="text-indigo-600 font-medium mb-4">Acorn Universal Consultancy LLP</p>
            <ul class="list-disc list-inside text-slate-600 space-y-2 mb-4">
              <li>Spearheaded automation of daily business processes, increasing productivity.</li>
              <li>Implemented an efficient inventory management system for real-time visibility.</li>
              <li>Analyzed revenue reports and streamlined complex data for better decision-making.</li>
            </ul>
            <p class="font-semibold text-slate-800 flex items-center"><i data-feather="check-circle" class="w-5 h-5 mr-2 achievement-check"></i>Pioneered a predictive sales potential project to stimulate demand.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills & Expertise -->
    <section id="skills" class="py-24 bg-white">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-center text-slate-900 mb-16">Skills & Expertise</h2>

        <h3 class="text-2xl font-bold text-center text-slate-800 mb-8">Technical Skills</h3>
        <div class="max-w-5xl mx-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8 text-center mb-16">
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="https://www.vectorlogo.zone/logos/microsoft_powerbi/microsoft_powerbi-icon.svg" class="h-16 mx-auto mb-3" alt="Power BI"><h4 class="font-semibold">Power BI</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/Tableau.png" class="h-16 mx-auto mb-3" alt="Tableau"><h4 class="font-semibold">Tableau</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/looker_studio.png" class="h-16 mx-auto mb-3" alt="Looker Studio"><h4 class="font-semibold">Looker Studio</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/excel.png" class="h-16 mx-auto mb-3" alt="Advanced Excel"><h4 class="font-semibold">Advanced Excel</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/google_sheets.png" class="h-16 mx-auto mb-3" alt="Google Sheet"><h4 class="font-semibold">Google Sheet</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="https://www.vectorlogo.zone/logos/mysql/mysql-icon.svg" class="h-16 mx-auto mb-3" alt="MySQL"><h4 class="font-semibold">MySQL</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="https://www.vectorlogo.zone/logos/python/python-icon.svg" class="h-16 mx-auto mb-3" alt="Python"><h4 class="font-semibold">Python</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/solidwork.png" class="h-16 mx-auto mb-3" alt="SolidWorks"><h4 class="font-semibold">SolidWorks</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="assets/Autocad.png" class="h-16 mx-auto mb-3" alt="AutoCAD"><h4 class="font-semibold">AutoCAD</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="https://www.vectorlogo.zone/logos/amazon/amazon-icon.svg" class="h-16 mx-auto mb-3" alt="Amazon Seller Central"><h4 class="font-semibold">Amazon Seller Central</h4></div>
          <div class="p-4 transition-all duration-300 transform hover:scale-110"><img src="https://www.vectorlogo.zone/logos/ebay/ebay-icon.svg" class="h-16 mx-auto mb-3" alt="eBay"><h4 class="font-semibold">eBay</h4></div>
        </div>

        <h3 class="text-2xl font-bold text-center text-slate-800 mb-8">Professional Skills</h3>
        <div class="max-w-5xl mx-auto flex flex-wrap justify-center gap-4">
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">Business Process Automation</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">Predictive Modeling</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">Trend Data Analysis</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">GAP Analysis</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">Inventory Management</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">Analytical Problem Solving</span>
          <span class="bg-indigo-100 text-indigo-800 text-md font-medium px-4 py-2 rounded-full">E-commerce Platforms</span>
        </div>
      </div>
    </section>

    <!-- Core Strengths interactive cards -->
    <section id="strengths" class="py-24 bg-white">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-center text-slate-900 mb-12">Core Strengths</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Card 1 -->
          <div class="interactive-card project-card bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300" role="button" tabindex="0" aria-expanded="false">
            <div class="flex items-start gap-4">
              <i data-feather="filter" class="w-10 h-10 text-indigo-600"></i>
              <div>
                <h3 class="text-xl font-bold">Data Cleaning & Preparation</h3>
                <p class="text-slate-600 mt-2">Quick summary shown always — click to learn more.</p>
              </div>
            </div>
            <div class="card-content mt-3 text-slate-600">
              <p class="text-sm">I transform messy datasets into analysis-ready tables using Power Query, Python (pandas), and SQL. Includes deduplication, type correction, and standardization.</p>
              <ul class="list-disc list-inside mt-3 text-sm">
                <li>Missing value strategies</li>
                <li>Data normalization</li>
                <li>Automated scheduled cleaning</li>
              </ul>
            </div>
          </div>

          <!-- Card 2 -->
          <div class="interactive-card project-card bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300" role="button" tabindex="0" aria-expanded="false">
            <div class="flex items-start gap-4">
              <i data-feather="bar-chart-2" class="w-10 h-10 text-indigo-600"></i>
              <div>
                <h3 class="text-xl font-bold">Exploratory Data Analysis</h3>
                <p class="text-slate-600 mt-2">Summarize patterns & find insights quickly.</p>
              </div>
            </div>
            <div class="card-content mt-3 text-slate-600">
              <p class="text-sm">Visual analysis to identify trends, seasonality and correlations — turning data into actionable questions for stakeholders.</p>
            </div>
          </div>

          <!-- Card 3 -->
          <div class="interactive-card project-card bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300" role="button" tabindex="0" aria-expanded="false">
            <div class="flex items-start gap-4">
              <i data-feather="trending-up" class="w-10 h-10 text-indigo-600"></i>
              <div>
                <h3 class="text-xl font-bold">Statistical Proficiency</h3>
                <p class="text-slate-600 mt-2">Stat methods for deeper insights.</p>
              </div>
            </div>
            <div class="card-content mt-3 text-slate-600">
              <p class="text-sm">Regression, hypothesis testing, and segmentation to validate ideas and measure impact.</p>
            </div>
          </div>

          <!-- Card 4 -->
          <div class="interactive-card project-card bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300" role="button" tabindex="0" aria-expanded="false">
            <div class="flex items-start gap-4">
              <i data-feather="cpu" class="w-10 h-10 text-indigo-600"></i>
              <div>
                <h3 class="text-xl font-bold">Predictive Modeling</h3>
                <p class="text-slate-600 mt-2">Forecasting & anomaly detection.</p>
              </div>
            </div>
            <div class="card-content mt-3 text-slate-600">
              <p class="text-sm">Time-series models and simple ML pipelines to forecast demand and flag deviations.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects & Research interactive -->
    <section id="projects" class="py-24 bg-slate-50">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-center text-slate-900 mb-12">Projects & Research</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Project 1 -->
          <div class="project-card relative bg-white rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300" tabindex="0" role="button" aria-expanded="false">
            <img src="https://placehold.co/600x400/e0e7ff/4338ca?text=Quiz+Webpage" alt="Quiz Webpage" class="w-full h-56 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-slate-900 mb-2">Interactive Quiz Web Page</h3>
              <p class="text-slate-600">Short summary — click to expand and see details.</p>
            </div>
            <div class="project-overlay card-content bg-white absolute inset-0 p-6 flex flex-col justify-center items-start">
              <h3 class="text-xl font-bold text-slate-900">Interactive Quiz Web Page — Details</h3>
              <p class="text-slate-600 mt-2">Built an HTML + JS quiz with scoring, timer, local storage for results, and shareable result links. Used responsive design to work on mobiles.</p>
              <div class="mt-3">
                <a href="#projects" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">View Project</a>
              </div>
            </div>
          </div>

          <!-- Project 2 -->
          <div class="project-card relative bg-white rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300" tabindex="0" role="button" aria-expanded="false">
            <img src="https://placehold.co/600x400/e0e7ff/4338ca?text=Sales+Forecasting" alt="Sales Forecasting" class="w-full h-56 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-slate-900 mb-2">Sales Potential & Forecasting</h3>
              <p class="text-slate-600">Forecasting for demand planning.</p>
            </div>
            <div class="project-overlay card-content bg-white absolute inset-0 p-6 flex flex-col justify-center items-start">
              <h3 class="text-xl font-bold text-slate-900">Sales Potential & Forecasting — Details</h3>
              <p class="text-slate-600 mt-2">Time-series forecasting models with error metrics, seasonality decomposition, and scenario planning for supply decisions.</p>
              <div class="mt-3">
                <a href="#projects" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">View Project</a>
              </div>
            </div>
          </div>

          <!-- Project 3 -->
          <div class="project-card relative bg-white rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-2 transition-transform duration-300" tabindex="0" role="button" aria-expanded="false">
            <img src="https://placehold.co/600x400/e0e7ff/4338ca?text=Digital+Marketing" alt="Digital Marketing" class="w-full h-56 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-slate-900 mb-2">Digital Marketing Impact Study</h3>
              <p class="text-slate-600">Study on advertising effects.</p>
            </div>
            <div class="project-overlay card-content bg-white absolute inset-0 p-6 flex flex-col justify-center items-start">
              <h3 class="text-xl font-bold text-slate-900">Digital Marketing Impact Study — Details</h3>
              <p class="text-slate-600 mt-2">Analyzed campaign performance across channels to attribute conversions and recommend optimal ad spend allocation.</p>
              <div class="mt-3">
                <a href="#projects" class="inline-block bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm">View Project</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Education & Courses -->
    <section id="education" class="py-24 bg-white">
      <div class="container mx-auto px-6" data-aos="fade-up">
        <div class="grid lg:grid-cols-2 gap-16">
          <div>
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-12">Education</h2>
            <div class="space-y-8">
              <div class="bg-slate-50 p-8 rounded-lg shadow-md"><h3 class="text-xl font-bold text-slate-900">M.B.A. in Business Analytics</h3><p class="text-indigo-600 font-medium my-2">Charotar University of Science & Technology</p><p class="text-slate-600">GPA: 8.01 / 10.00</p></div>
              <div class="bg-slate-50 p-8 rounded-lg shadow-md"><h3 class="text-xl font-bold text-slate-900">B.E. in Mechanical Engineering</h3><p class="text-indigo-600 font-medium my-2">D. A. Degree Engineering & Technology</p><p class="text-slate-600">GPA: 8.63 / 10.00</p></div>
            </div>
          </div>
          <div>
            <h2 class="text-4xl font-bold text-center text-slate-900 mb-12">Training & Courses</h2>
            <div class="space-y-8">
              <div class="bg-slate-50 p-8 rounded-lg shadow-md"><h3 class="text-xl font-bold text-slate-900">Applied AI</h3><p class="text-slate-600">Completed intensive training on practical applications of Artificial Intelligence.</p></div>
              <div class="bg-slate-50 p-8 rounded-lg shadow-md"><h3 class="text-xl font-bold text-slate-900">Power BI Workshop</h3><p class="text-slate-600">Focused training on data visualization and advanced dashboard creation with Power BI.</p></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="py-24 bg-slate-50">
      <div class="container mx-auto px-6 text-center" data-aos="zoom-in">
        <h2 class="text-4xl font-bold text-slate-900 mb-4">Get In Touch</h2>
        <p class="text-lg mb-8 max-w-2xl mx-auto text-slate-600">I'm currently open to new opportunities and collaborations. Feel free to reach out if you have a project in mind or just want to connect!</p>
        <div class="flex justify-center mt-10 space-x-6">
          <a href="mailto:vatsalsoni908@gmail.com" aria-label="Email" class="text-slate-500 hover:text-indigo-600 transition-colors duration-300"><i data-feather="mail" class="w-10 h-10"></i></a>
          <a href="https://www.linkedin.com/in/vatsal-soni-02a7191a7" target="_blank" aria-label="LinkedIn" class="text-slate-500 hover:text-indigo-600 transition-colors duration-300"><i data-feather="linkedin" class="w-10 h-10"></i></a>
          <a href="https://github.com/vatsalsoni17" target="_blank" aria-label="GitHub" class="text-slate-500 hover:text-indigo-600 transition-colors duration-300"><i data-feather="github" class="w-10 h-10"></i></a>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-white border-t border-slate-200">
    <div class="container mx-auto px-6 py-6 text-center text-slate-500">
      <p>&copy; 2024 Vatsal Soni. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Particles.js -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

  <script>
    // AOS init
    AOS.init({ duration: 800, once: true });

    // feather icons
    feather.replace();

    // mobile menu
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
    document.querySelectorAll('#mobile-menu a, .nav-link').forEach(link => {
      link.addEventListener('click', () => { if (!mobileMenu.classList.contains('hidden')) mobileMenu.classList.add('hidden'); });
    });

    // header scroll shadow
    const header = document.getElementById('header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) header.classList.add('shadow-lg'); else header.classList.remove('shadow-lg');
    });

    // intersection observe nav links
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('.nav-link');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          navLinks.forEach(link => {
            link.classList.remove('nav-link-active');
            if (link.getAttribute('href').substring(1) === entry.target.id) link.classList.add('nav-link-active');
          });
        }
      });
    }, { threshold: 0.5 });
    sections.forEach(section => observer.observe(section));

    // Particles config
    particlesJS('particles-js', {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#4f46e5" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5 },
        "size": { "value": 3, "random": true },
        "line_linked": { "enable": true, "distance": 150, "color": "#7c3aed", "opacity": 0.4, "width": 1 },
        "move": { "enable": true, "speed": 6 }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
        "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } }
      },
      "retina_detect": true
    });

    // Portfolio modal handlers (Amazon)
    const openPortfolioBtn = document.getElementById('view-portfolio-btn-2');
    const portfolioModal = document.getElementById('portfolio-modal-2');
    const closePortfolioBtn = document.getElementById('close-portfolio-2');
    if (openPortfolioBtn && portfolioModal && closePortfolioBtn) {
      openPortfolioBtn.addEventListener('click', () => portfolioModal.classList.remove('hidden'));
      closePortfolioBtn.addEventListener('click', () => portfolioModal.classList.add('hidden'));
      portfolioModal.addEventListener('click', (e) => { if (e.target === portfolioModal) portfolioModal.classList.add('hidden'); });
    }

    // Data portfolio modal
    const openDataBtn = document.getElementById('view-data-portfolio-btn');
    const dataModal = document.getElementById('data-portfolio-modal');
    const closeDataBtn = document.getElementById('close-data-portfolio');
    if (openDataBtn && dataModal && closeDataBtn) {
      openDataBtn.addEventListener('click', () => dataModal.classList.remove('hidden'));
      closeDataBtn.addEventListener('click', () => dataModal.classList.add('hidden'));
      dataModal.addEventListener('click', (e) => { if (e.target === dataModal) dataModal.classList.add('hidden'); });
    }

    // Interactive expand/collapse behavior for service, strength and project cards
    (function(){
      function toggleCard(card, expand){
        if (expand === undefined) expand = !card.classList.contains('expanded');
        if (expand){
          card.classList.add('expanded');
          card.setAttribute('aria-expanded','true');
        } else {
          card.classList.remove('expanded');
          card.setAttribute('aria-expanded','false');
        }
      }

      // interactive-card elements
      document.querySelectorAll('.interactive-card').forEach(card => {
        card.addEventListener('click', function(e){
          if (e.target.closest('a')) return;
          toggleCard(card);
        });
        card.addEventListener('keydown', function(e){
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleCard(card); }
        });
      });

      // project cards overlay behavior
      document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('click', function(e){
          if (e.target.closest('a')) return;
          toggleCard(card);
        });
        card.addEventListener('keydown', function(e){
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleCard(card); }
        });
      });

      // optional accordion behavior (only one open at a time)
      // Uncomment to enable
      /*
      document.querySelectorAll('.interactive-card').forEach(card => {
        card.addEventListener('click', function(){
          if (!card.classList.contains('expanded')) {
            document.querySelectorAll('.interactive-card.expanded').forEach(openCard => {
              if (openCard !== card) toggleCard(openCard,false);
            });
          }
        });
      });
      */
    })();

    // AI Chatbot - minimal handlers (Gemini apiKey left blank)
    const chatWindow = document.getElementById('chat-window');
    const chatInput = document.getElementById('chat-input');
    const sendBtn = document.getElementById('send-btn');
    const apiKey = ""; // add your API key if you want Gemini integration
    const professionalContext = `Vatsal Soni is a Business and Data Analyst with an MBA in Business Analytics and a B.E. in Mechanical Engineering. He is skilled in Power BI, Tableau, Looker Studio, Advanced Excel, Google Sheets, MySQL, Python...`;

    async function callGemini(prompt) {
      if (!apiKey) throw new Error('No API key provided for Gemini');
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const systemPrompt = `You are a helpful AI assistant for Vatsal Soni's portfolio website. Context: ${professionalContext}`;
      const payload = { contents: [{ parts: [{ text: prompt }] }], systemInstruction: { parts: [{ text: systemPrompt }] } };
      const resp = await fetch(apiUrl, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
      if (!resp.ok) throw new Error(`API ${resp.status}`);
      const json = await resp.json();
      return json.candidates?.[0]?.content?.parts?.[0]?.text || "No answer";
    }

    function appendMessage(message, sender){
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('chat-bubble', sender === 'user' ? 'user-bubble' : 'ai-bubble', 'rounded-lg', 'p-3');
      messageDiv.innerHTML = `<p class="text-sm">${message}</p>`;
      chatWindow.appendChild(messageDiv);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    function createTypingIndicator(){
      const d = document.createElement('div');
      d.classList.add('chat-bubble','ai-bubble','rounded-lg','p-3','typing-indicator');
      d.innerHTML = `<div class="flex items-center space-x-1"><div class="w-2 h-2 bg-slate-400 rounded-full animate-pulse"></div><div class="w-2 h-2 bg-slate-400 rounded-full animate-pulse"></div><div class="w-2 h-2 bg-slate-400 rounded-full animate-pulse"></div></div>`;
      return d;
    }

    async function sendMessage() {
      const userMessage = chatInput.value.trim(); if (!userMessage) return;
      appendMessage(userMessage, 'user'); chatInput.value = '';
      const typing = createTypingIndicator(); chatWindow.appendChild(typing); chatWindow.scrollTop = chatWindow.scrollHeight;
      try {
        const response = await callGemini(userMessage);
        if (typing.parentNode) chatWindow.removeChild(typing);
        appendMessage(response, 'ai');
      } catch (err) {
        if (typing.parentNode) chatWindow.removeChild(typing);
        appendMessage("Sorry, I'm having trouble connecting right now.", 'ai');
      }
    }

    if (sendBtn) sendBtn.addEventListener('click', sendMessage);
    if (chatInput) chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });

  </script>
</body>
</html>
